<div class="container">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card">
        <div class="card-header">
          <h3>Nieuwe vacature toevoegen</h3>
        </div>
        <div class="card-body">
          <form
            class="form"
            [formGroup]="uploadVacForm"
            (ngSubmit)="onSubmit(uploadVacForm)"
          >
            <div class="form-group">
              <mat-form-field class="example-full-width">
                <mat-label>Titel vacature</mat-label>
                <input matInput type="text" [formControl]="titel" />
                <mat-error *ngIf="titel.invalid">{{
                  getErrorMessageTitel()
                }}</mat-error>
              </mat-form-field>
            </div>
          
            <div class="form-group">
              <mat-form-field class="example-full-width">
                <mat-label>Geef je email op</mat-label>
                <input
                  matInput
                  placeholder="test@example.com"
                  [formControl]="email"
                />
                <mat-error *ngIf="email.invalid">{{
                  getErrorMessageEmail()
                }}</mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field class="example-full-width">
                <mat-label>Geef de bedrijfsnaam op</mat-label>
                <input matInput [formControl]="bedrijfsnaam" />
                <mat-error *ngIf="bedrijfsnaam.invalid">{{
                  getErrorMessageBedrijfsnaam()
                }}</mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field class="example-full-width">
                <mat-label>Kies een stad</mat-label>
                <input
                  type="text"
                  aria-label="Stad"
                  matInput
                  [formControl]="locatieControl"
                  [matAutocomplete]="auto"
                  [(ngModel)]="locatieValue"
                />
                <mat-error *ngIf="locatieControl.invalid">{{
                  getErrorMessageBedrijfsnaam()
                }}</mat-error>
                <mat-autocomplete
                  #auto="matAutocomplete"
                  [displayWith]="displayLocatie"
                  (stedenSelected)="onSelectionChangedLocatie($event)"
                >
                  <mat-option
                    *ngFor="let stad of filteredSteden | async"
                    [value]="stad"
                  >
                    {{ stad.name }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field
                class="example-full-width"
                hintLabel="Max 300 characters"
              >
                <mat-label>Beschrijving</mat-label>
                <input
                  matInput
                  [formControl]="beschrijving"
                  #input
                  maxlength="300"
                />
                <mat-hint align="end"
                  >{{ input.value?.length || 0 }}/300</mat-hint
                >
                <mat-error *ngIf="beschrijving.invalid">{{
                  getErrorMessageBeschrijving()
                }}</mat-error>
                <textarea matInput></textarea>
              </mat-form-field>
            </div>

            <div class="form-group">
              <label>Uploaden vacature</label>
            </div>
            <div class="input-group mb-3">
              <div class="custom-file" id="inputlabel">
                <input
                  type="file"
                  class="custom-file-input"
                  id="file"
                  [formControl]="vacatureBestand"
                  accept=".pdf"
                />
                <label class="custom-file-label" for="inputGroupFile01"
                  >Kies bestand</label
                >
              </div>
            </div>
            <span>
              <mat-error *ngIf="vacatureBestand.invalid">{{
                getErrorMessageVacatureBestand()
              }}</mat-error></span
            >

            <div class="form-group">
              <app-select-studiegebieden></app-select-studiegebieden>
            </div>
            

            <div class="form-group">
              <label>Type</label>
              <mat-form-field class="example-full-width">
                <mat-label>Selecteer het type vacature</mat-label>
                <mat-select matNativeControl [formControl]="typeControl">
                  <mat-option *ngFor="let type of types" [value]="type.name">
                    {{ type.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="typeControl.hasError('required')">{{
                  getErrorMessageTypeControl()
                }}</mat-error>
              </mat-form-field>
            </div>

            <div><label>Zichtbaar tot</label></div>
            <div class="row">
              <div class="col-xs-12 col-12 col-md-4 form-group">
                <input
                  type="text"
                  placeholder="Selecteer een datum"
                  class="form-control"
                  bsDatepicker
                  [bsConfig]="{
                    dateInputFormat: 'DD/MM/YYYY',
                    containerClass: 'theme-red',
                    selectFromOtherMonth: true
                  }"
                  [formControl]="einddatum"
                  [minDate]="minDate"
                  [maxDate]="maxDate"
                  placement="top"
                />
                <mat-error *ngIf="einddatum.hasError('required')">{{
                  getErrorMessageEinddatumControl()
                }}</mat-error>
              </div>
            </div>

            <div class="form-group">
              <button
                type="submit"
                class="btn btn-success"
                (click)="onSubmit()"
              >
                Verzenden
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
